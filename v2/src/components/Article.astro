---
import type { FeedItem } from '../types';
import { formatTimeAgo } from '../lib/utils';

export interface Props {
  article: FeedItem;
}

const { article } = Astro.props;
---

<article class="article">
  <div class="article-header">
    <span class="source-badge">{article.sourceName}</span>
    <span class="article-time">{formatTimeAgo(article.publishedAt)}</span>
  </div>
  <h2 class="article-title">
    <a href={article.url} target="_blank" rel="noopener noreferrer">
      {article.title}
    </a>
  </h2>
  {article.summary && (
    <p class="article-excerpt">{article.summary}</p>
  )}
  {article.tags.length > 0 && (
    <div class="article-tags">
      {article.tags.map(tag => (
        <span class="tag">{tag}</span>
      ))}
    </div>
  )}
</article>