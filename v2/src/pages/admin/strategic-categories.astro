---
export const prerender = false;

import Layout from '../../layouts/Layout.astro';
import { CATEGORIES } from '../../lib/categories';

// Strategic category breakdown
const strategicBreakdown = {
  'Core Navigation': {
    'markets': { 
      name: 'Markets', 
      description: 'Main destination for stocks, trading, general market news',
      example: 'Stock movements, market analysis, trading volumes'
    },
    'earnings': { 
      name: 'Earnings', 
      description: 'Quarterly results, guidance, analyst calls',
      example: 'Apple Q3 results, Microsoft earnings beat'
    },
    'ma': { 
      name: 'M&A', 
      description: 'Mergers, acquisitions, deals',
      example: 'Microsoft acquires AI startup, merger announcements'
    },
    'crypto': { 
      name: 'Crypto', 
      description: 'Digital assets, blockchain news',
      example: 'Bitcoin price, Ethereum updates, DeFi news'
    },
    'macro': { 
      name: 'Economics', 
      description: 'Economic data, policy, analysis',
      example: 'GDP data, inflation reports, economic forecasts'
    },
    'technology': { 
      name: 'Technology', 
      description: 'Tech industry news, innovation',
      example: 'AI developments, tech company news, innovation'
    }
  },
  'Specialized Tabs': {
    'central-banking': { 
      name: 'Central Banking', 
      description: 'Fed, ECB, monetary policy decisions',
      example: 'Fed meeting minutes, Powell speeches, rate decisions'
    },
    'commodities': { 
      name: 'Commodities', 
      description: 'Oil, gold, agricultural products',
      example: 'Oil price movements, gold futures, wheat exports'
    },
    'regulation': { 
      name: 'Regulation', 
      description: 'Financial rules, compliance, enforcement',
      example: 'SEC actions, new banking rules, compliance updates'
    },
    'research': { 
      name: 'Research', 
      description: 'Academic papers, analysis, studies',
      example: 'NBER papers, economic research, market studies'
    }
  },
  'Media Types': {
    'videos': { name: 'Videos', description: 'Video content, interviews, presentations' },
    'podcasts': { name: 'Podcasts', description: 'Audio content, financial podcasts' },
    'blogs': { name: 'Analysis', description: 'Opinion pieces, commentary, blogs' },
    'news': { name: 'News', description: 'Breaking news, general updates' }
  }
};

const expectedDistribution = [
  { category: 'Markets', oldPercent: 43, newPercent: 28, change: -15 },
  { category: 'Earnings', oldPercent: 0, newPercent: 8, change: +8 },
  { category: 'M&A', oldPercent: 0, newPercent: 3, change: +3 },
  { category: 'Crypto', oldPercent: 0, newPercent: 4, change: +4 },
  { category: 'Economics', oldPercent: 8, newPercent: 6, change: -2 },
  { category: 'Technology', oldPercent: 6, newPercent: 4, change: -2 },
  { category: 'Central Banking', oldPercent: 0, newPercent: 5, change: +5 },
  { category: 'Commodities', oldPercent: 0, newPercent: 3, change: +3 }
];
---

<Layout title="Strategic Categories - Markets Feeds">
  <div class="strategic-page">
    <div class="container">
      <!-- Header -->
      <header class="page-header">
        <div class="header-content">
          <div class="header-left">
            <a href="/admin/recategorization" class="back-link">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
              </svg>
            </a>
            <div class="header-title">
              <h1 class="page-title">Strategic Categorization</h1>
              <span class="page-subtitle">Minimal, focused splits for better UX</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Strategy Overview -->
      <section class="strategy-section">
        <div class="strategy-card">
          <h2 class="strategy-title">üéØ Strategic Approach</h2>
          <div class="strategy-content">
            <div class="strategy-point">
              <strong>Keep "Markets" as Main Hub</strong>
              <p>Markets remains the primary destination for general stock news, trading, and market analysis</p>
            </div>
            <div class="strategy-point">
              <strong>Extract Distinct Content Types</strong>
              <p>Pull out earnings, M&A, and crypto - content types that have dedicated audiences</p>
            </div>
            <div class="strategy-point">
              <strong>Add Strategic Categories</strong>
              <p>Central Banking and Commodities for specialized financial professionals</p>
            </div>
            <div class="strategy-point">
              <strong>Avoid Over-Categorization</strong>
              <p>14 focused categories instead of 37+ granular ones</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Category Breakdown -->
      <div class="breakdown-grid">
        {Object.entries(strategicBreakdown).map(([groupName, categories]) => (
          <section class="breakdown-section">
            <h3 class="breakdown-title">{groupName}</h3>
            <div class="categories-list">
              {Object.entries(categories).map(([key, category]) => (
                <div class="category-card">
                  <div class="category-header">
                    <span class="category-name">{category.name}</span>
                    <span class="category-key">{key}</span>
                  </div>
                  <p class="category-description">{category.description}</p>
                  {category.example && (
                    <div class="category-example">
                      <strong>Examples:</strong> {category.example}
                    </div>
                  )}
                </div>
              ))}
            </div>
          </section>
        ))}
      </div>

      <!-- Expected Impact -->
      <section class="impact-section">
        <h2 class="impact-title">üìä Expected Distribution Changes</h2>
        <div class="impact-grid">
          {expectedDistribution.map(item => (
            <div class="impact-card">
              <div class="impact-category">{item.category}</div>
              <div class="impact-change">
                <div class="old-percent">
                  <span class="label">Before:</span>
                  <span class="value">{item.oldPercent}%</span>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="new-percent">
                  <span class="label">After:</span>
                  <span class="value">{item.newPercent}%</span>
                </div>
              </div>
              <div class={`impact-indicator ${item.change > 0 ? 'positive' : item.change < 0 ? 'negative' : 'neutral'}`}>
                {item.change > 0 ? `+${item.change}%` : item.change < 0 ? `${item.change}%` : 'No change'}
              </div>
            </div>
          ))}
        </div>
      </section>

      <!-- Benefits -->
      <section class="benefits-section">
        <h2 class="benefits-title">‚úÖ Key Benefits</h2>
        <div class="benefits-grid">
          <div class="benefit-card">
            <div class="benefit-icon">üéØ</div>
            <h4>Focused Discovery</h4>
            <p>Users can find earnings, deals, or crypto content directly without digging through general markets</p>
          </div>
          
          <div class="benefit-card">
            <div class="benefit-icon">üè†</div>
            <h4>Familiar Navigation</h4>
            <p>Markets remains the main hub that users expect, with logical additions</p>
          </div>
          
          <div class="benefit-card">
            <div class="benefit-icon">üìà</div>
            <h4>Professional Segments</h4>
            <p>Central Banking and Commodities serve specialized financial professionals</p>
          </div>
          
          <div class="benefit-card">
            <div class="benefit-icon">üöÄ</div>
            <h4>Clean Interface</h4>
            <p>14 strategic categories vs 37 granular ones - easier to navigate</p>
          </div>
          
          <div class="benefit-card">
            <div class="benefit-icon">üîÑ</div>
            <h4>Future Flexibility</h4>
            <p>Can add more categories later based on user behavior and content growth</p>
          </div>
          
          <div class="benefit-card">
            <div class="benefit-icon">üìä</div>
            <h4>Better Analytics</h4>
            <p>Clearer content performance metrics with meaningful category distinctions</p>
          </div>
        </div>
      </section>

      <!-- Action Panel -->
      <section class="action-panel">
        <div class="panel-content">
          <div class="panel-info">
            <h3>Ready to Implement Strategic Categories?</h3>
            <p>
              This approach balances discoverability with simplicity, keeping Markets as the main hub 
              while extracting the most distinct content types for focused audiences.
            </p>
          </div>
          
          <div class="panel-actions">
            <a href="/admin/recategorization" class="panel-btn secondary">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
              </svg>
              View Preview
            </a>
            
            <button class="panel-btn primary" onclick="alert('Strategic recategorization will be implemented!')">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M8 5v14l11-7z"/>
              </svg>
              Implement Changes
            </button>
          </div>
        </div>
      </section>
    </div>
  </div>
</Layout>

<style>
  .strategic-page {
    min-height: 100vh;
    background: #f8fafc;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  /* Header */
  .page-header {
    background: white;
    border-bottom: 1px solid #e8ebed;
    padding: 24px 0;
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .header-left {
    display: flex;
    align-items: center;
    gap: 16px;
  }

  .back-link {
    color: #6b7280;
    text-decoration: none;
    padding: 8px;
    border-radius: 6px;
    transition: all 0.15s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .back-link:hover {
    background: #f3f4f6;
    color: #2a2a2a;
  }

  .header-title {
    display: flex;
    flex-direction: column;
  }

  .page-title {
    font-size: 24px;
    font-weight: 600;
    color: #2a2a2a;
    margin: 0;
    line-height: 1.2;
  }

  .page-subtitle {
    font-size: 14px;
    color: #6b7280;
    margin-top: 4px;
  }

  /* Strategy Section */
  .strategy-section {
    padding: 32px 0;
  }

  .strategy-card {
    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
    border-radius: 12px;
    padding: 32px;
    color: white;
  }

  .strategy-title {
    font-size: 24px;
    font-weight: 600;
    margin: 0 0 20px 0;
  }

  .strategy-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
  }

  .strategy-point {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 16px;
  }

  .strategy-point strong {
    display: block;
    font-size: 16px;
    margin-bottom: 8px;
  }

  .strategy-point p {
    font-size: 14px;
    line-height: 1.5;
    margin: 0;
    opacity: 0.9;
  }

  /* Breakdown Grid */
  .breakdown-grid {
    display: grid;
    gap: 32px;
    margin-bottom: 32px;
  }

  .breakdown-section {
    background: white;
    border: 1px solid #e8ebed;
    border-radius: 12px;
    padding: 24px;
  }

  .breakdown-title {
    font-size: 18px;
    font-weight: 600;
    color: #2a2a2a;
    margin: 0 0 20px 0;
  }

  .categories-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px;
  }

  .category-card {
    border: 1px solid #e8ebed;
    border-radius: 8px;
    padding: 16px;
    background: #f8fafc;
    transition: all 0.15s ease;
  }

  .category-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    border-color: #d1d5db;
  }

  .category-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
  }

  .category-name {
    font-size: 16px;
    font-weight: 600;
    color: #2a2a2a;
  }

  .category-key {
    font-size: 11px;
    color: #6b7280;
    background: white;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: monospace;
  }

  .category-description {
    font-size: 14px;
    color: #6b7280;
    line-height: 1.4;
    margin: 0 0 8px 0;
  }

  .category-example {
    font-size: 12px;
    color: #9ca3af;
    font-style: italic;
  }

  /* Impact Section */
  .impact-section {
    background: white;
    border: 1px solid #e8ebed;
    border-radius: 12px;
    padding: 32px;
    margin-bottom: 32px;
  }

  .impact-title {
    font-size: 20px;
    font-weight: 600;
    color: #2a2a2a;
    margin: 0 0 24px 0;
  }

  .impact-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 16px;
  }

  .impact-card {
    border: 1px solid #e8ebed;
    border-radius: 8px;
    padding: 16px;
    text-align: center;
  }

  .impact-category {
    font-size: 14px;
    font-weight: 600;
    color: #2a2a2a;
    margin-bottom: 12px;
  }

  .impact-change {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
    font-size: 12px;
  }

  .old-percent, .new-percent {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  .label {
    color: #9ca3af;
    font-size: 10px;
  }

  .value {
    color: #2a2a2a;
    font-weight: 600;
  }

  .arrow {
    color: #6b7280;
    font-size: 14px;
  }

  .impact-indicator {
    font-size: 11px;
    font-weight: 500;
    padding: 2px 8px;
    border-radius: 10px;
  }

  .impact-indicator.positive {
    background: #d1fae5;
    color: #059669;
  }

  .impact-indicator.negative {
    background: #fee2e2;
    color: #dc2626;
  }

  .impact-indicator.neutral {
    background: #f3f4f6;
    color: #6b7280;
  }

  /* Benefits Section */
  .benefits-section {
    background: white;
    border: 1px solid #e8ebed;
    border-radius: 12px;
    padding: 32px;
    margin-bottom: 32px;
  }

  .benefits-title {
    font-size: 20px;
    font-weight: 600;
    color: #2a2a2a;
    margin: 0 0 24px 0;
  }

  .benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
  }

  .benefit-card {
    text-align: center;
    padding: 20px;
    border-radius: 8px;
    background: #f8fafc;
    border: 1px solid #e8ebed;
  }

  .benefit-icon {
    font-size: 32px;
    margin-bottom: 12px;
  }

  .benefit-card h4 {
    font-size: 16px;
    font-weight: 600;
    color: #2a2a2a;
    margin: 0 0 8px 0;
  }

  .benefit-card p {
    font-size: 13px;
    color: #6b7280;
    line-height: 1.4;
    margin: 0;
  }

  /* Action Panel */
  .action-panel {
    background: linear-gradient(135deg, #059669 0%, #10b981 100%);
    border-radius: 12px;
    padding: 32px;
    margin-bottom: 32px;
  }

  .panel-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 24px;
  }

  .panel-info h3 {
    font-size: 20px;
    font-weight: 600;
    color: white;
    margin: 0 0 8px 0;
  }

  .panel-info p {
    color: rgba(255, 255, 255, 0.9);
    font-size: 14px;
    line-height: 1.5;
    margin: 0;
  }

  .panel-actions {
    display: flex;
    gap: 12px;
    flex-shrink: 0;
  }

  .panel-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 20px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s ease;
    border: none;
    text-decoration: none;
  }

  .panel-btn.primary {
    background: white;
    color: #059669;
  }

  .panel-btn.primary:hover {
    background: #f8fafc;
    transform: translateY(-1px);
  }

  .panel-btn.secondary {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  .panel-btn.secondary:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .strategy-content {
      grid-template-columns: 1fr;
    }
    
    .categories-list {
      grid-template-columns: 1fr;
    }
    
    .impact-grid {
      grid-template-columns: 1fr;
    }
    
    .benefits-grid {
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }
    
    .panel-content {
      flex-direction: column;
      align-items: stretch;
      text-align: center;
    }
  }
</style>