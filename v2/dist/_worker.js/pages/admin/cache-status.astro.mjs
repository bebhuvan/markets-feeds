globalThis.process ??= {}; globalThis.process.env ??= {};
import { c as createComponent, f as renderComponent, r as renderTemplate, m as maybeRenderHead, b as addAttribute } from '../../chunks/astro/server_a_q7el7H.mjs';
import { $ as $$Layout } from '../../chunks/Layout_C7d_4Fi7.mjs';
import { c as cacheMonitor, C as CACHE_POLICY } from '../../chunks/cache-policy_JVY94ApO.mjs';
/* empty css                                           */
export { renderers } from '../../renderers.mjs';

const prerender = false;
const $$CacheStatus = createComponent(($$result, $$props, $$slots) => {
  const metrics = cacheMonitor.getMetrics();
  const health = cacheMonitor.getHealthSummary();
  return renderTemplate`${renderComponent($$result, "Layout", $$Layout, { "title": "Cache Status - Markets Feeds", "data-astro-cid-tpzunyz5": true }, { "default": ($$result2) => renderTemplate` ${maybeRenderHead()}<div class="cache-status-page" data-astro-cid-tpzunyz5> <div class="container" data-astro-cid-tpzunyz5> <!-- Header --> <header class="page-header" data-astro-cid-tpzunyz5> <div class="header-content" data-astro-cid-tpzunyz5> <div class="header-left" data-astro-cid-tpzunyz5> <a href="/admin" class="back-link" data-astro-cid-tpzunyz5> <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-tpzunyz5> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" data-astro-cid-tpzunyz5></path> </svg> </a> <div class="header-title" data-astro-cid-tpzunyz5> <h1 class="page-title" data-astro-cid-tpzunyz5>Cache Status</h1> <span class="page-subtitle" data-astro-cid-tpzunyz5>Site-wide caching performance and health</span> </div> </div> <div class="health-indicator" data-astro-cid-tpzunyz5> <div${addAttribute(`health-badge ${health.status}`, "class")} data-astro-cid-tpzunyz5> ${health.status === "healthy" && "\u2705 Healthy"} ${health.status === "warning" && "\u26A0\uFE0F Warning"} ${health.status === "critical" && "\u{1F6A8} Critical"} </div> </div> </div> </header> <!-- Cache Policy Overview --> <section class="policy-section" data-astro-cid-tpzunyz5> <h2 class="section-title" data-astro-cid-tpzunyz5>📋 Caching Policy</h2> <div class="policy-grid" data-astro-cid-tpzunyz5> ${Object.entries(CACHE_POLICY).map(([key, config]) => renderTemplate`<div class="policy-card" data-astro-cid-tpzunyz5> <div class="policy-header" data-astro-cid-tpzunyz5> <span class="policy-name" data-astro-cid-tpzunyz5>${config.name}</span> <span class="policy-ttl" data-astro-cid-tpzunyz5>${Math.floor(config.ttl / 6e4)}min TTL</span> </div> <p class="policy-description" data-astro-cid-tpzunyz5>${config.description}</p> <div class="policy-stats" data-astro-cid-tpzunyz5> <span class="max-size" data-astro-cid-tpzunyz5>Max: ${config.maxSize.toLocaleString()} items</span> </div> </div>`)} </div> </section> <!-- Cache Metrics --> <section class="metrics-section" data-astro-cid-tpzunyz5> <h2 class="section-title" data-astro-cid-tpzunyz5>📊 Performance Metrics</h2> <div class="metrics-grid" data-astro-cid-tpzunyz5> ${Object.entries(metrics).map(([cacheName, data]) => renderTemplate`<div class="metric-card" data-astro-cid-tpzunyz5> <h3 class="metric-name" data-astro-cid-tpzunyz5>${cacheName}</h3> <div class="metric-stats" data-astro-cid-tpzunyz5> <div class="stat" data-astro-cid-tpzunyz5> <span class="stat-label" data-astro-cid-tpzunyz5>Hit Rate</span> <span${addAttribute(`stat-value ${data.hitRate > 0.7 ? "good" : data.hitRate > 0.3 ? "warning" : "poor"}`, "class")} data-astro-cid-tpzunyz5> ${(data.hitRate * 100).toFixed(1)}%
</span> </div> <div class="stat" data-astro-cid-tpzunyz5> <span class="stat-label" data-astro-cid-tpzunyz5>Error Rate</span> <span${addAttribute(`stat-value ${data.errorRate < 0.05 ? "good" : "poor"}`, "class")} data-astro-cid-tpzunyz5> ${(data.errorRate * 100).toFixed(1)}%
</span> </div> <div class="stat" data-astro-cid-tpzunyz5> <span class="stat-label" data-astro-cid-tpzunyz5>Total Requests</span> <span class="stat-value" data-astro-cid-tpzunyz5>${data.totalRequests.toLocaleString()}</span> </div> </div> </div>`)} </div> </section> <!-- Health Issues --> ${health.issues.length > 0 && renderTemplate`<section class="issues-section" data-astro-cid-tpzunyz5> <h2 class="section-title" data-astro-cid-tpzunyz5>⚠️ Issues Detected</h2> <div class="issues-list" data-astro-cid-tpzunyz5> ${health.issues.map((issue) => renderTemplate`<div class="issue-item" data-astro-cid-tpzunyz5> <span class="issue-icon" data-astro-cid-tpzunyz5>⚠️</span> <span class="issue-text" data-astro-cid-tpzunyz5>${issue}</span> </div>`)} </div> </section>`} <!-- Recommendations --> ${health.recommendations.length > 0 && renderTemplate`<section class="recommendations-section" data-astro-cid-tpzunyz5> <h2 class="section-title" data-astro-cid-tpzunyz5>💡 Recommendations</h2> <div class="recommendations-list" data-astro-cid-tpzunyz5> ${health.recommendations.map((rec) => renderTemplate`<div class="recommendation-item" data-astro-cid-tpzunyz5> <span class="rec-icon" data-astro-cid-tpzunyz5>💡</span> <span class="rec-text" data-astro-cid-tpzunyz5>${rec}</span> </div>`)} </div> </section>`} <!-- Cache Guidelines --> <section class="guidelines-section" data-astro-cid-tpzunyz5> <h2 class="section-title" data-astro-cid-tpzunyz5>📝 Cache Guidelines</h2> <div class="guidelines-content" data-astro-cid-tpzunyz5> <div class="guideline" data-astro-cid-tpzunyz5> <h4 data-astro-cid-tpzunyz5>🔄 Data Freshness</h4> <p data-astro-cid-tpzunyz5>Financial data caches expire every 5 minutes to ensure fresh market information</p> </div> <div class="guideline" data-astro-cid-tpzunyz5> <h4 data-astro-cid-tpzunyz5>🔍 Search Performance</h4> <p data-astro-cid-tpzunyz5>Search indexes refresh every 15 minutes, balancing performance with data freshness</p> </div> <div class="guideline" data-astro-cid-tpzunyz5> <h4 data-astro-cid-tpzunyz5>💾 Content Enhancement</h4> <p data-astro-cid-tpzunyz5>Content processing caches for 1 hour since analysis doesn't change frequently</p> </div> <div class="guideline" data-astro-cid-tpzunyz5> <h4 data-astro-cid-tpzunyz5>🚀 Page Rendering</h4> <p data-astro-cid-tpzunyz5>Page caches expire every 2 minutes to ensure users see the latest articles</p> </div> </div> </section> <!-- Actions --> <section class="actions-section" data-astro-cid-tpzunyz5> <h2 class="section-title" data-astro-cid-tpzunyz5>🛠️ Cache Management</h2> <div class="actions-grid" data-astro-cid-tpzunyz5> <button class="action-btn primary" onclick="window.location.reload()" data-astro-cid-tpzunyz5> <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-tpzunyz5> <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" data-astro-cid-tpzunyz5></path> </svg>
Refresh Status
</button> <button class="action-btn secondary" onclick="alert('Cache invalidation would be triggered in production')" data-astro-cid-tpzunyz5> <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-tpzunyz5> <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" data-astro-cid-tpzunyz5></path> </svg>
Clear All Caches
</button> </div> </section> </div> </div> ` })} `;
}, "/home/bhuvanesh/markets-feeds/v2/src/pages/admin/cache-status.astro", void 0);

const $$file = "/home/bhuvanesh/markets-feeds/v2/src/pages/admin/cache-status.astro";
const $$url = "/admin/cache-status";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$CacheStatus,
  file: $$file,
  prerender,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
